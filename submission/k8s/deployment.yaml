# deployment.yaml â€” Video Processing Service Deployment
#
# TASK: Complete this deployment manifest for a production video processing service.
#
# Requirements:
#   - Resource requests and limits (CPU + memory)
#   - Liveness and readiness probes
#   - Security context (non-root, read-only root filesystem)
#   - Anti-affinity or topology spread constraints
#   - Image tag should NOT be :latest
#   - Reference the ConfigMap you create in configmap.yaml
#   - Environment variables for service configuration

apiVersion: apps/v1
kind: Deployment
metadata:
  name: video-processor
  namespace: video-analytics
  labels:
    app: video-processor
spec:
  replicas: 3
  selector:
    matchLabels:
      app: video-processor
  template:
    metadata:
      labels:
        app: video-processor
    spec:
      containers:
      - name: video-processor
        image: # TODO: Set image with a specific tag (not :latest)
        ports:
        - containerPort: 8080
          name: http
        # TODO: Add resource requests and limits
        # TODO: Add liveness probe
        # TODO: Add readiness probe
        # TODO: Add security context
        # TODO: Add environment variables (reference ConfigMap)
      # TODO: Add pod-level security context
      # TODO: Add anti-affinity or topology spread constraints
